{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/timeCapsuleMessage/updateMsg/{id}":{"put":{"tags":["time-capsule-message-controller"],"operationId":"updateMsg","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatedMsgDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MsgResponseDTO"}}}}}}},"/whatsapp/schedule":{"post":{"tags":["whats-app-controller"],"operationId":"scheduleMessage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WhatsAppRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/user/save":{"post":{"tags":["user-controller"],"operationId":"saveUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/timeCapsuleMessage/save":{"post":{"tags":["time-capsule-message-controller"],"operationId":"save","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["message"],"type":"object","properties":{"message":{"$ref":"#/components/schemas/MsgRequestDTO"},"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EmailResponse"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/auth/authenticate":{"post":{"tags":["authentication-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/ai/email":{"post":{"tags":["ai-controller"],"operationId":"handleAIEmail","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/user":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}}},"/user/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/user/name/{name}":{"get":{"tags":["user-controller"],"operationId":"getUserByUsername","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/timeCapsuleMessage":{"get":{"tags":["time-capsule-message-controller"],"operationId":"getAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MsgResponseDTO"}}}}}}}},"/api/v1/auth/test":{"get":{"tags":["authentication-controller"],"operationId":"test","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/admin/logs":{"get":{"tags":["message-log-controller"],"operationId":"getAllLogs","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageLog"}}}}}}}},"/timeCapsuleMessage/{id}":{"delete":{"tags":["time-capsule-message-controller"],"operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"UpdatedMsgDTO":{"type":"object","properties":{"content":{"type":"string"},"scheduledDate":{"type":"string","format":"date-time"},"recipientEmail":{"type":"string"},"attachmentPath":{"type":"string"}}},"MsgResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"subject":{"type":"string"},"content":{"type":"string"},"scheduledDate":{"type":"string","format":"date-time"},"recipientEmail":{"type":"string"},"status":{"type":"string","enum":["PENDING","SENT","FAILED"]},"attachmentPath":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"WhatsAppRequestDTO":{"type":"object","properties":{"recipientNumber":{"type":"string"},"content":{"type":"string"},"scheduledDate":{"type":"string","format":"date-time"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"password":{"type":"string"},"username":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"enabled":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonLocked":{"type":"boolean"}}},"MsgRequestDTO":{"required":["recipientEmail","scheduledDate"],"type":"object","properties":{"subject":{"type":"string"},"content":{"type":"string"},"scheduledDate":{"type":"string","format":"date-time"},"recipientEmail":{"type":"string"}}},"EmailResponse":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"jobId":{"type":"string"},"jobGroup":{"type":"string"}}},"RegisterRequest":{"required":["email","password","username"],"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"AuthenticationRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":6,"type":"string"}}},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"username":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]}}},"MessageLog":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"messageId":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["PENDING","SENT","FAILED"]},"timestamp":{"type":"string","format":"date-time"},"errorMessage":{"type":"string"}}}}}}